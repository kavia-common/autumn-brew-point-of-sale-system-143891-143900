{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React context and provider for managing order state within a point-of-sale system front-end, including functions for adding/removing items, computing totals, and creating orders via a backend API.", "external_files": ["../lib/supabaseClient"], "external_methods": ["getSupabase", "isSupabaseConfigured"], "published": ["useOrder", "OrderProvider"], "classes": [], "methods": [{"name": "useOrder()", "description": "Custom hook to access order state and actions within components.", "scope": "", "scopeKind": ""}, {"name": "OrderProvider({ children })", "description": "React component that provides order context, managing order state and actions, including submission to backend.", "scope": "", "scopeKind": ""}, {"name": "addItem", "description": "Adds an item to the current order; increments quantity if item already exists."}, {"name": "removeItem", "description": "Removes an item from the order by ID."}, {"name": "updateQty", "description": "Updates the quantity of an item in the order, with a minimum of 1."}, {"name": "clearOrder", "description": "Clears all items from the current order."}, {"name": "newTicket", "description": "Resets the order with a new ticket ID."}, {"name": "createOrder({ status = 'paid', notes = '', payment_method = null } = {})", "description": "Submits the current order to the backend database, creating order and order item records.", "scope": "OrderProvider", "scopeKind": "function"}], "calls": ["getSupabase", "isSupabaseConfigured", "client.from('orders').insert(...)", "client.from('order_items').insert(...)", "client.from('orders').delete().eq('id', orderId)"], "search-terms": ["OrderContext", "useOrder", "createOrder", "React Context", "order state management", "POS order handling"], "state": 2, "file_id": 15, "knowledge_revision": 70, "git_revision": "3509b20d23d2ea2ecb729dda72a74a61f146aa90", "revision_history": [{"34": ""}, {"70": "3509b20d23d2ea2ecb729dda72a74a61f146aa90"}], "ctags": [{"_type": "tag", "name": "OrderContext", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^const OrderContext = createContext(undefined);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "OrderProvider", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^export function OrderProvider({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^  async function createOrder({ status = 'paid', notes = '', payment_method = null } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ status = 'paid', notes = '', payment_method = null } = {})", "scope": "OrderProvider", "scopeKind": "function"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^    items,$/", "language": "JavaScript", "kind": "field", "scope": "OrderProvider.value", "scopeKind": "class"}, {"_type": "tag", "name": "orderPayload", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^      const orderPayload = {$/", "language": "JavaScript", "kind": "class", "scope": "OrderProvider.createOrder", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^        status,$/", "language": "JavaScript", "kind": "field", "scope": "OrderProvider.createOrder.orderPayload", "scopeKind": "class"}, {"_type": "tag", "name": "ticket_id", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^        ticket_id: ticketId, \\/\\/ optional external reference$/", "language": "JavaScript", "kind": "property", "scope": "OrderProvider.createOrder.orderPayload", "scopeKind": "class"}, {"_type": "tag", "name": "useOrder", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^export function useOrder() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/context/OrderContext.jsx", "pattern": "/^  return <OrderContext.Provider value={value}>{children}<\\/OrderContext.Provider>;$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}], "hash": "253b2a8a110c00bc92579e208d74abe9", "format-version": 4, "code-base-name": "fall_cafe_pos_frontend", "filename": "fall_cafe_pos_frontend/src/context/OrderContext.jsx", "fields": [{"name": "items,", "scope": "OrderProvider.value", "scopeKind": "class", "description": "unavailable"}, {"name": "status,", "scope": "OrderProvider.createOrder.orderPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "ticket_id: ticketId, \\/\\/ optional external reference", "scope": "OrderProvider.createOrder.orderPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "return <OrderContext.Provider value={value}>{children}<\\/OrderContext.Provider>;", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}]}