{"is_source_file": true, "format": "JavaScript", "description": "This file contains a set of functions that provide an interface for interacting with a backend database through the Supabase client. It includes functions for fetching menu items, saving orders, retrieving orders, upserting menu items, deleting menu items, and fetching sales summaries. The functions handle errors gracefully by providing fallback responses or logging errors, and they primarily facilitate communication with the database for a point-of-sale system.", "external_files": ["./supabaseClient"], "external_methods": ["getSupabase"], "published": ["fetchMenu", "saveOrder", "fetchOrders", "upsertMenuItem", "deleteMenuItem", "fetchSalesSummary"], "classes": [], "methods": [{"name": "fetchMenu()", "description": "Retrieves menu items from the 'menu_items' table in the Supabase database, with fallback options if the database query fails.", "scope": "", "scopeKind": ""}, {"name": "saveOrder(order)", "description": "Persists a new order into the 'orders' table; returns the saved record or a fallback object if saving fails.", "scope": "", "scopeKind": ""}, {"name": "fetchOrders(limit = 50)", "description": "Fetches recent orders from the 'orders' table, limited by a specified number, with fallback if the database query fails.", "scope": "", "scopeKind": ""}, {"name": "upsertMenuItem(item)", "description": "Creates or updates a menu item in the 'menu_items' table, with error handling to return the original item on failure.", "scope": "", "scopeKind": ""}, {"name": "deleteMenuItem(id)", "description": "Deletes a menu item from the 'menu_items' table by its ID, returning success status and handling errors.", "scope": "", "scopeKind": ""}, {"name": "fetchSalesSummary()", "description": "Fetches aggregate sales data from the 'orders' table, calculating total revenue and order count with fallback.", "scope": "", "scopeKind": ""}], "calls": ["getSupabase", "sb.from", "select", "insert", "single", "upsert", "delete", "eq"], "search-terms": ["api", "supabase", "database", "order", "menu_items", "orders", "sales"], "state": 2, "file_id": 14, "knowledge_revision": 60, "git_revision": "b9f6bedae139e4119db9120ae25479966c6bbaea", "revision_history": [{"30": ""}, {"57": "b9f6bedae139e4119db9120ae25479966c6bbaea"}, {"58": "b9f6bedae139e4119db9120ae25479966c6bbaea"}, {"59": "b9f6bedae139e4119db9120ae25479966c6bbaea"}, {"60": "b9f6bedae139e4119db9120ae25479966c6bbaea"}], "ctags": [{"_type": "tag", "name": "deleteMenuItem", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/services/api.js", "pattern": "/^export async function deleteMenuItem(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "fetchMenu", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/services/api.js", "pattern": "/^export async function fetchMenu() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchOrders", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/services/api.js", "pattern": "/^export async function fetchOrders(limit = 50) {$/", "language": "JavaScript", "kind": "function", "signature": "(limit = 50)"}, {"_type": "tag", "name": "fetchSalesSummary", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/services/api.js", "pattern": "/^export async function fetchSalesSummary() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "saveOrder", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/services/api.js", "pattern": "/^export async function saveOrder(order) {$/", "language": "JavaScript", "kind": "function", "signature": "(order)"}, {"_type": "tag", "name": "upsertMenuItem", "path": "/home/kavia/workspace/code-generation/autumn-brew-point-of-sale-system-143891-143900/fall_cafe_pos_frontend/src/services/api.js", "pattern": "/^export async function upsertMenuItem(item) {$/", "language": "JavaScript", "kind": "function", "signature": "(item)"}], "hash": "6c61456a6caeb03c8d54d298743debf1", "format-version": 4, "code-base-name": "fall_cafe_pos_frontend", "filename": "fall_cafe_pos_frontend/src/services/api.js"}